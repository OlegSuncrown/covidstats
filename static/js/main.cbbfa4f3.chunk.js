(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{151:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(45),l=a.n(c),s=(a(52),a(4)),o=a.n(s),d=a(6),m=a(8),i=a(18);var u=function(e){var t=e.data,a=e.selectedCountry,c=Object(r.useState)([]),l=Object(m.a)(c,2),s=l[0],u=l[1],f=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/daily"));case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,u(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){f("https://covid19.mathdro.id/api")}),[]);var v=s.length?n.a.createElement("div",{className:"shadow-sm p-3 mb-5 bg-white rounded"},n.a.createElement(i.b,{data:{labels:s.map((function(e){return e.reportDate})),datasets:[{data:s.map((function(e){return e.confirmed.total/1e3})),label:"Infected",borderColor:"blue",fill:!0},{data:s.map((function(e){return e.deaths.total/100})),label:"Deaths",borderColor:"red",fill:!0,backgroundColor:"rgba(255, 0, 0, 0.3)"}]}})):n.a.createElement("div",{className:"alert alert-primary"},"no internet connection"),h=s.length?n.a.createElement("div",{className:"shadow-sm p-3 mb-5 bg-white rounded"},n.a.createElement(i.b,{data:{labels:s.map((function(e){return e.reportDate})),datasets:[{data:s.map((function(e){return e.deltaConfirmed/10})),label:"infected per day (1:10)",borderColor:"blue",fill:!0},{data:s.map((function(e,t){return t>0?e.deaths.total-s[t-1].deaths.total:e.deaths.total})),label:"Deaths per day",borderColor:"red",fill:!0,backgroundColor:"rgba(255, 0, 0, 0.3)"}]}})):null,b=t.confirmed?n.a.createElement(i.a,{data:{labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(0, 0, 255, 0.5)","rgba(0, 255, 0, 0.5)","rgba(255, 0, 0, 0.5)"],data:[t.confirmed.value,t.recovered.value,t.deaths.value]}]},options:{legend:{display:!1},title:{display:!0,text:"Current state in ".concat(a)}}}):null;return n.a.createElement("div",{className:"text-center"},n.a.createElement("h1",null,"Chart"),a?b:v,n.a.createElement("h1",null,"Daily chart"),h)};var f=function(e){var t=function(){var t=Object(d.a)(o.a.mark((function t(a){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a);case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,e.setCountriesList(n.countries.map((function(e){return e.name})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){t("https://covid19.mathdro.id/api/countries")}),[]),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"input-group mb-3 col-md-6"},n.a.createElement("select",{className:"custom-select ",defaultValue:"",onChange:function(t){e.handleChange(t.target.value)}},n.a.createElement("option",{value:""},"Choose..."),e.countriesList.map((function(e,t){return n.a.createElement("option",{className:"",key:t,value:e},e)})))))},v=a(19),h=a.n(v);var b=function(e){var t=e.data;return t.confirmed?n.a.createElement("div",{className:""},n.a.createElement("div",{className:"card-deck "},n.a.createElement("div",{className:"card shadow-sm"},n.a.createElement("div",{className:"card-body "},n.a.createElement("h6",{className:"card-title text-muted"},"Infected"),n.a.createElement(h.a,{start:0,end:t.confirmed.value,duration:2.5,separator:","}),n.a.createElement("br",null),n.a.createElement("div",{className:"text-muted mt-1"},new Date(t.lastUpdate).toDateString()),n.a.createElement("div",{className:"mt-1"},n.a.createElement("small",null,"Number of active cases of COVID-19."))),n.a.createElement("div",{className:"card-footer bg-info"})),n.a.createElement("div",{className:"card shadow-sm"},n.a.createElement("div",{className:"card-body "},n.a.createElement("h6",{className:"card-title text-muted"},"Recovered"),n.a.createElement(h.a,{start:0,end:t.recovered.value,duration:2.5,separator:","}),n.a.createElement("br",null),n.a.createElement("div",{className:"text-muted mt-1"},new Date(t.lastUpdate).toDateString()),n.a.createElement("div",{className:"mt-1"},n.a.createElement("small",null,"Number of recoveries from COVID-19."))),n.a.createElement("div",{className:"card-footer bg-success"})),n.a.createElement("div",{className:"card shadow-sm"},n.a.createElement("div",{className:"card-body "},n.a.createElement("h6",{className:"card-title text-muted"},"Recovered"),n.a.createElement(h.a,{start:0,end:t.deaths.value,duration:2.5,separator:","}),n.a.createElement("br",null),n.a.createElement("div",{className:"text-muted mt-1"},new Date(t.lastUpdate).toDateString()),n.a.createElement("div",{className:"mt-1"},n.a.createElement("small",null,"Number of deaths caused by COVID-19."))),n.a.createElement("div",{className:"card-footer bg-danger"})))):null};var p=function(){var e=Object(r.useState)({}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),s=Object(m.a)(l,2),i=s[0],v=s[1],h=Object(r.useState)(""),p=Object(m.a)(h,2),E=p[0],N=p[1],g=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,r,n,l,s,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=6;break}return e.next=3,fetch("".concat(t,"/countries/").concat(E));case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,fetch(t);case 8:a=e.sent;case 9:return e.next=11,a.json();case 11:r=e.sent,n=r.confirmed,l=r.recovered,s=r.deaths,d=r.lastUpdate,c({confirmed:n,recovered:l,deaths:s,lastUpdate:d});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g("https://covid19.mathdro.id/api")}),[E]),n.a.createElement("div",{className:"container-flex bg-light p-2"},n.a.createElement("h1",{className:"text-center display-3 mt-3 font-weight-bold"},"COVID-19"),n.a.createElement("h3",{className:"text-center text-primary font-weight-bold"},"Corona tracker"),n.a.createElement("div",{className:"row mb-5 mt-3"},n.a.createElement("div",{className:"col-lg-8 mx-auto"},n.a.createElement(b,{data:a}))),n.a.createElement(f,{setCountriesList:v,countriesList:i,handleChange:function(e){N(e)}}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-2"}),n.a.createElement("div",{className:"col-lg-8"},n.a.createElement(u,{data:a,selectedCountry:E}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a(151)},52:function(e,t,a){}},[[47,1,2]]]);
//# sourceMappingURL=main.cbbfa4f3.chunk.js.map